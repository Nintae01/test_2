.hack-overlay{
  background:#0b0f16;
  color:#60a5fa;                   /* soft blue */
  font-family:'Share Tech Mono',monospace;
}
.hack-overlay .terminal{
  border-right:2px solid #60a5fa;
  animation:type 3s steps(62,end),blink .75s step-end infinite;
}
@keyframes blink{50%{border-color:transparent}}
/* =====  HACK-TRANSITION  ===== */
@keyframes glitch{
  0%{transform:translate(0);}
  20%{transform:translate(-2px,2px);}
  40%{transform:translate(-2px,-2px);}
  60%{transform:translate(2px,2px);}
  80%{transform:translate(2px,-2px);}
  100%{transform:translate(0);}
}
@keyframes scanline{
  0%{background-position:0 0;}
  100%{background-position:0 100%;}
}
.hack-overlay{
  position:fixed;
  inset:0;
  z-index:9999;
  background:#0b0f16;
  color:#22c55e;
  font-family:'Share Tech Mono',monospace;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  opacity:0;
  pointer-events:none;
  transition:opacity .4s ease;
}
.hack-overlay.active{
  opacity:1;
  pointer-events:all;
}
.hack-overlay .terminal{
  width:62ch;
  border-right:2px solid #22c55e;
  white-space:nowrap;
  overflow:hidden;
  animation:type 3s steps(62,end),blink .75s step-end infinite;
}
@keyframes type{from{width:0}}
@keyframes blink{50%{border-color:transparent}}
.hack-overlay .glitch-img{
  position:absolute;
  inset:0;
  background:url("/assets/img/castle-close.svg") center/cover;
  filter:saturate(0) brightness(.4) contrast(1.2);
  animation:glitch .15s 6;
}
/* Glitch effect for body */
body.glitch {
  animation: glitchy 0.15s steps(2, end) infinite;
  filter: invert(1) hue-rotate(-30deg) contrast(2) brightness(1.2) !important;
}
@keyframes glitchy {
  0% { transform: translate(0,0); }
  20% { transform: translate(-2px,2px); }
  40% { transform: translate(2px,-2px); }
  60% { transform: translate(-2px,2px); }
  80% { transform: translate(2px,-2px); }
  100% { transform: translate(0,0); }
}
/* RED-THEME OVERRIDE â€“ loads AFTER base stylesheet */
:root{
  --bg:#1a0a0a;
  --primary:#ef4444;        /* crimson accent */
  --gold:#f87171;           /* rose-gold */
  --text:#ffe4e4;
  --muted:#fecaca;
  --border:rgba(255,255,255,.08);
}



/* 1.  swap SVG sources  */
.layer--moon          { content:url("/assets/img/moon-blood.svg"); }
.layer--hills         { content:url("/assets/img/hills-scorched.svg"); }

body, html {
  background: linear-gradient(180deg, #2a0a0a 0%, #4c1a1a 100%) !important;
}
.bg {
  background: linear-gradient(180deg, rgba(60,10,20,0.85) 0%, rgba(120,30,40,0.7) 100%) !important;
}


/* 2.  ruin aesthetic + deeper crimson */
.layer--castle {
  filter: brightness(0.45) contrast(1.35) sepia(0.5) hue-rotate(-10deg) saturate(1.2) drop-shadow(0 8px 32px rgba(220,38,38,0.55));
  opacity: 0.98;
}
.layer--moon {
  filter: sepia(1) hue-rotate(-60deg) saturate(3.2) brightness(0.95) drop-shadow(0 0 32px rgba(239,68,68,0.7));
}
.layer--hills {
  filter: brightness(0.55) sepia(0.4) hue-rotate(-10deg) saturate(1.1);
}

/* 3.  cracked-parchment card  */
.panel{
  background:linear-gradient(180deg,rgba(30,10,10,.65),rgba(20,8,8,.45)),
             url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80'%3E%3Cfilter id='crack'%3E%3CfeTurbulence baseFrequency='.8' numOctaves='3' /%3E%3CfeColorMatrix values='0 0 0 0 .15 0 0 0 0 .05 0 0 0 0 .05 0 0 0 1 0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23crack)' opacity='.12'/%3E%3C/svg%3E");
  border-color:rgba(248,113,113,.35);
  box-shadow:0 20px 80px rgba(0,0,0,.55), inset 0 0 0 1px rgba(255,255,255,.05);
}

/* 4.  blood-red progress  */
.progress-top .bar{ background:linear-gradient(90deg,#dc2626,#f87171); box-shadow:0 0 12px rgba(220,38,38,.7); }

/* 5.  ember particles (warm, slower, bigger) */
#fireflies{
  filter:hue-rotate(140deg) saturate(2);
}

/* 6.  warmer text  */
h1,h2,h3,.title,.chapter-title{ color:#fff1f1; text-shadow:0 2px 8px rgba(220,38,38,.25); }
